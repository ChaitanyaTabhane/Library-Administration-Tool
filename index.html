<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Library Administration Tool</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <link rel="stylesheet" href="styles.css" />
    <!-- Include toastr via CDN -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
    <style>
      .hero {
        background-image: url("https://thumbs.dreamstime.com/z/library-book-shelf-interior-graphic-sketch-black-white-illustration-vector-137559173.jpg");
        background-size: cover;
        background-position: center;
        color: white; /* Text color for visibility */
        text-align: center;
        padding: 100px 0; /* Adjust padding as needed */
      }

      .hero-content {
        background-color: rgba(
          255,
          255,
          255,
          0.5
        ); /* Transparent white background */
        padding: 20px;
      }

      .hero-title {
        font-size: 3rem;
        margin-bottom: 20px;
      }

      .hero-subtitle {
        font-size: 1.5rem;
        margin-bottom: 30px;
      }

      .btn-lg {
        font-size: 1.25rem;
      }
    </style>
  </head>

  <body>
    <!-- Include the navbar using JavaScript -->
    <div id="navbarPlaceholder"></div>
    <div class="container">
      <!-- Hero Section -->
      <section class="hero">
        <div class="container hero-content">
          <h1 class="hero-title" style="color: black">
            Welcome to Our Library
          </h1>
          <p class="hero-subtitle" style="color: black">
            Explore the World of Stories and Knowledge
          </p>
          <a href="#bookSection" class="btn btn-primary btn-lg">Browse Books</a>
        </div>
      </section>
    </div>

    <!-- Book Section -->
    <section id="bookSection" class="book-section">
      <div class="container">
        <h2 class="section-title">Featured Books</h2>
        <div class="row">
          <!-- Card Section -->
          <div class="container mt-4">
            <div class="row">
              <div class="col-md-4">
                <div class="card">
                  <img
                    src="images/fairy-tales.jpg"
                    class="card-img-top"
                    alt="Card Image 1"
                  />
                  <div class="card-body">
                    <h5 class="card-title">Fairy tales 1</h5>
                    <p class="card-text">Christian Andersen.</p>
                  </div>
                </div>
              </div>
              <div class="col-md-4">
                <div class="card">
                  <img
                    src="images/the-mahab-harata.jpg"
                    class="card-img-top"
                    alt="Card Image 2"
                  />
                  <div class="card-body">
                    <h5 class="card-title">Mahabharata</h5>
                    <p class="card-text">Vyasa</p>
                  </div>
                </div>
              </div>
              <div class="col-md-4">
                <div class="card">
                  <img
                    src="images/season-of-migration-to-the-north.jpg"
                    class="card-img-top"
                    alt="Card Image 3"
                  />
                  <div class="card-body">
                    <h5 class="card-title">Migration</h5>
                    <p class="card-text">Tayeb Salih</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="text-center mt-4">
          <a href="books.html" class="btn btn-primary btn-lg"
            >Explore Full Catalog</a
          >
        </div>
      </div>
    </section>

    <!-- About Section -->
    <section class="about-section">
      <div class="container">
        <h2 class="section-title">About Our Library</h2>
        <p class="section-text">
          Discover a world of imagination and learning at our library. We're
          dedicated to providing you with a diverse collection of books, from
          classic tales to contemporary masterpieces. Our goal is to inspire and
          enrich your reading journey. Whether you're a passionate reader or
          just starting your literary adventure, you'll find something that
          resonates with you.
        </p>
      </div>
    </section>

    <!-- Footer -->
    <div id="footerPlaceholder"></div>

    <!-- Bootstrap Bundle with Popper -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
    <script>
      function logout() {
        // Change the location to the login page
        window.location.href = "login2.html";
      }
    </script>

    <script>
      // Load the navbar using JavaScript
      var navbarXhr = new XMLHttpRequest();
      navbarXhr.open("GET", "navbar.html", true);
      navbarXhr.onreadystatechange = function () {
        if (navbarXhr.readyState === 4 && navbarXhr.status === 200) {
          document.getElementById("navbarPlaceholder").innerHTML =
            navbarXhr.responseText;
        }
      };
      navbarXhr.send();

      // Load the footer using JavaScript
      var footerXhr = new XMLHttpRequest();
      footerXhr.open("GET", "footer.html", true);
      footerXhr.onreadystatechange = function () {
        if (footerXhr.readyState === 4 && footerXhr.status === 200) {
          document.getElementById("footerPlaceholder").innerHTML =
            footerXhr.responseText;
        }
      };
      footerXhr.send();
    </script>
    <script>
      // JSON server URLs
      const serverUrls = [
        "http://localhost:4000/books",
        "http://localhost:3000/Members",
        "http://localhost:5000/issue",
      ];

      // Function to check server availability
      async function checkServers() {
        for (const url of serverUrls) {
          try {
            // Try to fetch data from the server
            const response = await fetch(url);
            if (!response.ok) {
              // Server is not reachable
              toastr.error(`Server at ${url} is not available`, "Server Error" , { timeOut: 5000 });
            }
          } catch (error) {
            // An error occurred while trying to fetch
            toastr.error(`Error connecting to ${url}`, "Connection Error" , { timeOut: 5000 });
          }
        }
      }

      // Check server status when the page loads
      checkServers();
    </script>
  </body>
</html>
